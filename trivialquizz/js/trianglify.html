<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/2.0.0/trianglify.min.js"></script>
<script>
  $(document).ready(function(){
    var elements = $('.trianglify-background');

    for(var i = 0; i<elements.length; i++){
      drawBackground(elements[i]);
    }
    function drawBackground(element){
      var pattern = Trianglify({
        width: element.clientWidth*1.05,
        height: element.clientHeight*1.05,
        cell_size: Math.random()*45+40
      }).svg({includeNamespace: true});

      var patternString = new XMLSerializer().serializeToString(pattern);
      var patternMin = 'url("data:image/svg+xml,' + encodeURIComponent(patternString) + '")';

      element.style.backgroundImage = 'url("data:image/svg+xml,' + encodeURIComponent(patternString) + '")';
      //element.style.backgroundImage = "url("+pattern.canvas().toDataURL()+")";
    }
  });
    /*var elements = $('.trianglify-background');
    var card = $('.card-body');
    var margin = card.css('margin-top');

    for(var i = 0; i<elements.length; i++){
        elements[i].style.minHeight = "calc("+card[i].clientHeight+"px + 2*"+margin+")";
        elements[i].style.marginTop = "-1px";
        var pattern = Trianglify({
        width: elements[i].clientWidth*1.05,
        height: elements[i].clientHeight*1.05,
        cell_size: 50
      });
      elements[i].insertBefore(pattern.canvas(),elements[i].firstChild)
    }*/
</script>
